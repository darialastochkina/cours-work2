import requests
from typing import List
from src.vacancy import Vacancy

class HeadHunterAPI:
    """Обёртка над API hh.ru."""
    URL = "https://api.hh.ru/vacancies"

    def get_vacancies(self, query: str, per_page: int = 100) -> List[Vacancy]:
        response = requests.get(self.URL, params={"text": query, "per_page": per_page})
        response.raise_for_status()
        vacancies_data = response.json()["items"]
        return [Vacancy.from_dict(vacancy_data) for vacancy_data in vacancies_data] 